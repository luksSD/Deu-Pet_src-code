<!DOCTYPE html>
<html layout:decorate="~{layout}">
<head>
  <meta charset="UTF-8">
  <title>Deu Pet - Cadastrar Animal</title>
  <script src="/resources/vendors/js/dropzone.js"></script>
  <!--    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>-->
  <!--    <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css"/>-->
</head>

<body>

<div layout:fragment="body">

  <div class="page-header">
    <h3 class="page-title"> Cadastrar Animal </h3>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a th:href="@{/}">Início</a></li>
        <li class="breadcrumb-item active" aria-current="page"><a th:href="@{/adocao/gerenciar-animais}">Gerenciar
                                                                                                         Animais</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">Cadastrar Animal</li>
      </ol>
    </nav>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Dados do Animal</h4>

          <form method="post" action="upload.php" class="dropzone" id="mydropzone"
                enctype='multipart/form-data'>

            <p class="card-description"> Insira os dados do animal a ser cadastrado </p>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Nome</label>
                  <div class="col-sm-9">
                    <input type="text" class="form-control">
                  </div>
                </div>
              </div>


              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Tipo</label>
                  <div class="col-sm-4">
                    <div class="form-check">
                      <label class="form-check-label">
                        <input type="radio" class="form-check-input" name="typeRadios"
                               id="typeRadios1" value="" checked=""> Cachoro </label>
                    </div>
                  </div>
                  <div class="col-sm-5">
                    <div class="form-check">
                      <label class="form-check-label">
                        <input type="radio" class="form-check-input" name="typeRadios"
                               id="typeRadios2" value="option2"> Gato </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Peso</label>
                  <div class="col-sm-9">
                    <input class="form-control" data-inputmask="'alias': 'wheight'"
                           im-insert="true" style="text-align: right;">
                    <!--                                            <input type="text" class="form-control">-->
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Sexo</label>
                  <div class="col-sm-4">
                    <div class="form-check">
                      <label class="form-check-label">
                        <input type="radio" class="form-check-input" name="sexRadios"
                               id="sexRadios1" value="" checked=""> Macho </label>
                    </div>
                  </div>
                  <div class="col-sm-5">
                    <div class="form-check">
                      <label class="form-check-label">
                        <input type="radio" class="form-check-input" name="sexRadios"
                               id="sexRadios2" value="option2"> Fêmea </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">

              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Porte</label>
                  <div class="col-sm-9">
                    <input class="form-control">
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Raça</label>
                  <div class="col-sm-9">
                    <input class="form-control">
                  </div>
                </div>
              </div>
            </div>

            <div class="row"></div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Pelagem Primária</label>
                  <div class="col-sm-9">
                    <input type="text" class="form-control">
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Pelagem Secundária</label>
                  <div class="col-sm-9">
                    <input type="text" class="form-control">
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Temperamento</label>
                  <div class="col-sm-9">
                    <input type="text" class="form-control">
                  </div>
                </div>
              </div>
              <h3 class="page-title mb-3"> Inserir Fotos </h3>
              <div class="col-mlx-10">
                <div class="dropzone-previews" id="dropzonePreview"></div>
              </div>
            </div>

          </form>
          <div>
            <button type="submit" class="btn btn-gradient-primary mr-2">Cadastrar</button>
            <a class="btn btn-light" th:href="@{/adocao/gerenciar-animais}">Cancelar</a>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
<script type="application/javascript">
Dropzone.options.mydropzone = {
    //url does not has to be written
    //if we have wrote action in the form
    //tag but i have mentioned here just for convenience sake
        url: 'upload.php',
        addRemoveLinks: true,
        autoProcessQueue: false, // this is important as you dont want form to be submitted unless you have clicked the submit button
        autoDiscover: false,
        paramName: 'pic', // this is optional Like this one will get accessed in php by writing $_FILE['pic'] // if you dont specify it then bydefault it taked 'file' as paramName eg: $_FILE['file']
        previewsContainer: '#dropzonePreview', // we specify on which div id we must show the files
        clickable: false, // this tells that the dropzone will not be clickable . we have to do it because v dont want the whole form to be clickable
        accept: function(file, done) {
            console.log("uploaded");
            done();
        },
        error: function(file, msg){
            alert(msg);
        },
        init: function() {
            var myDropzone = this;
            //now we will submit the form when the button is clicked
            $("#sbmtbtn").on('click',function(e) {
               e.preventDefault();
               myDropzone.processQueue(); // this will submit your form to the specified action path
              // after this, your whole form will get submitted with all the inputs + your files and the php code will remain as usual
        //REMEMBER you DON'T have to call ajax or anything by yourself, dropzone will take care of that
            });
        } // init end
    };











</script>
</body>
</html>
