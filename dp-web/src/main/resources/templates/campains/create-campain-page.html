<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
  <meta charset="UTF-8">
  <title>Deu Pet - Cadastrar Campanha de Saúde</title>
  <script src="/resources/js/img-preview.js"></script>
  <script th:inline="javascript" th:if="${errorMessage}">
     window.onload = () => {
        $('#errorModal').modal('show');
     }
  </script>
</head>
<body>

<div layout:fragment="body">

  <div class="page-header">
    <h3 class="page-title"> Cadastrar Campanha </h3>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a th:href="@{/}">Início</a></li>
        <li class="breadcrumb-item active" aria-current="page"><a th:href="@{/campanhas/gerenciar-campanhas}">Gerenciar
          Campanhas</a>
        <li class="breadcrumb-item active" aria-current="page">Cadastrar Campanha</li>
      </ol>
    </nav>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Campanhas de bem-estar geral dos animais</h4>

          <form th:action="@{/campanhas/create}" method="POST" th:objetc="${campanha}" id="formCadastro"
                name="formCadastro">

            <p class="card-description"> Insira os dados da campanha </p>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-4">Título</label>
                  <div class="col-sm-12">
                    <input class="form-control" id="inputCampanhaTitulo" type="text"
                           required placeholder="Titulo da campanha"
                           th:field="${campanha.titulo}"/>
                  </div>
                </div>
              </div>


              <div class="col-md-3">
                <div class="form-group row">
                  <label class="col-sm-12">Data Início</label>
                  <div class="col-sm-12">
                    <input class="form-control" id="inputDataInicio" type="date"
                           required placeholder="Data Inicio campanha"
                           th:field="${campanha.dataInicio}"/>
                  </div>
                </div>
              </div>


              <div class="col-md-3">
                <div class="form-group row">
                  <label class="col-sm-12">Data Fim</label>
                  <div class="col-sm-12">
                    <input class="form-control" id="inputDataFim" type="date"
                           required placeholder="Data fim campanha"
                           th:field="${campanha.dataFim}"/>
                  </div>
                </div>
              </div>

            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="taDescription">Descrição</label>
                  <textarea class="form-control" id="taDescription" type="text" required
                            placeholder="Descrição da sua campanha" rows="5"
                            th:field="${campanha.descricao}"></textarea>


                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group">
                  <label for="tdRequisits">Requisitos</label>
                  <textarea class="form-control" id="tdRequisits" type="text" required
                            placeholder="Requisitos da sua campanha" rows="5"
                            th:field="${campanha.requisitos}"></textarea>
                </div>
              </div>
            </div>

            <div class="border-bottom mb-3"></div>

            <h4 class="card-title">Formulário para campanha</h4>
            <p class="card-description"> Insira um link para o formulário de espera </p>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group row">
                  <label class="col-sm-12  ">Link do formulário</label>
                  <div class="col-sm-6">
                    <input class="form-control" id="inputurl" type="text"
                           placeholder="Link do formulário da campanha"
                           th:field="${campanha.formularioId}"/>
                  </div>
                </div>
              </div>

              <div class="border-bottom mb-3"></div>

              <div class="row">
                <div class="col-md-12">
                  <div class="form-group row">

                    <div class="col-md-6">
                      <div class="row">
                        <h4 class="card-title">Selecione uma foto para campanha</h4>

                        <div class="col-md-8 mt-3">
                          <input id="files" name="file" type="file" accept="image/jpg, image/jpeg, image/png"
                                 hidden/>
                          <label class="btn btn-outline-danger btn-icon-text " for="files">
                            <i class="mdi mdi-upload btn-icon-prepend"></i>
                            Carregar
                          </label>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="row">
                        <div class="col-md-10">
                          <div class="form-group row" id="result">
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>

              <div>
                <button type="submit" class="btn btn-gradient-primary mr-2">Cadastrar</button>
                <a class="btn btn-light" th:href="@{/campanhas/gerenciar-campanhas}">Cancelar</a>
              </div>

            </div>
          </form>

        </div>
      </div>
    </div>
  </div>

  <!--MODAL DE ERRO-->
  <div class="modal fade" id="errorModal" tabindex="-1" role="dialog"
       aria-labelledby="errorModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="swal2-icon swal2-error swal2-icon-show"
             style="display: flex;">
                    <span class="swal2-x-mark">
                    <span class="swal2-x-mark-line-left"></span>
                    <span class="swal2-x-mark-line-right"></span>
                    </span>
        </div>

        <h2 class="swal2-title" style="display: block;">Erro ao realizar operação!</h2>
        <div class="row text-center mt-3">

        </div>

        <div class="modal-body text-right">
          <h5 th:text="${errorMessage}">Error message</h5>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-gradient-danger"
                  data-dismiss="modal">Fechar
          </button>
        </div>


      </div>
    </div>
  </div>

</div>


</body>
</html>
